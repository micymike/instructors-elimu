# Elimu Platform

## Overview

The Elimu Platform is designed to facilitate the creation, management, and delivery of educational courses. This document provides an overview of the API endpoints, data structures, and authentication details required to interact with the platform.

## API Endpoints

### Course Endpoints

1. **Get Course Details**
   - **Endpoint**: `GET /api/courses/:id`
   - **Description**: Fetches the details of a specific course by its ID.
   - **Example**: `GET http://localhost:3000/api/courses/12345`

2. **Get Course Content**
   - **Endpoint**: `GET /api/courses/:id/content`
   - **Description**: Fetches the content of a specific course by its ID.
   - **Example**: `GET http://localhost:3000/api/courses/12345/content`

3. **Create Course**
   - **Endpoint**: `POST /api/courses`
   - **Description**: Creates a new course.
   - **Example**: `POST http://localhost:3000/api/courses`
   - **Request Body**:
     ```json
     {
       "title": "Web Development Course",
       "description": "A comprehensive course on web development.",
       "category": "Programming",
       "level": "Beginner",
       "duration": "10 weeks",
       "price": 100
     }
     ```

4. **Update Course**
   - **Endpoint**: `PUT /api/courses/:id`
   - **Description**: Updates an existing course by its ID.
   - **Example**: `PUT http://localhost:3000/api/courses/12345`
   - **Request Body**:
     ```json
     {
       "title": "Updated Course Title",
       "description": "Updated course description.",
       "category": "Programming",
       "level": "Intermediate",
       "duration": "12 weeks",
       "price": 150
     }
     ```

5. **Delete Course**
   - **Endpoint**: `DELETE /api/courses/:id`
   - **Description**: Deletes a course by its ID.
   - **Example**: `DELETE http://localhost:3000/api/courses/12345`

6. **Generate Course**
   - **Endpoint**: `POST /api/courses/course-generation`
   - **Description**: Generates a course using AI.
   - **Example**: `POST http://localhost:3000/api/courses/course-generation`
   - **Request Body**:
     ```json
     {
       "title": "AI Generated Course",
       "description": "A course generated by AI.",
       "category": "AI",
       "level": "Advanced",
       "duration": "8 weeks",
       "price": 200
     }
     ```

7. **Analyze Course**
   - **Endpoint**: `POST /api/courses/analyze`
   - **Description**: Analyzes the course content.
   - **Example**: `POST http://localhost:3000/api/courses/analyze`
   - **Request Body**:
     ```json
     {
       "title": "Course Title",
       "description": "Course description.",
       "category": "Programming",
       "level": "Beginner",
       "duration": "10 weeks"
     }
     ```

8. **Upload Course Content**
   - **Endpoint**: `POST /api/courses/:id/upload`
   - **Description**: Uploads content to a specific course.
   - **Example**: `POST http://localhost:3000/api/courses/12345/upload`
   - **Request Body**: FormData with file and metadata.

9. **Update Course Content**
   - **Endpoint**: `PUT /api/courses/:id/content`
   - **Description**: Updates the content of a specific course by its ID.
   - **Example**: `PUT http://localhost:3000/api/courses/12345/content`
   - **Request Body**:
     ```json
     {
       "sections": [
         {
           "title": "Module 1",
           "description": "Introduction to Web Development",
           "content": [
             {
               "title": "HTML Basics",
               "type": "video",
               "url": "http://example.com/html-basics.mp4"
             }
           ]
         }
       ]
     }
     ```

### Data Structure

1. **Course Details**:
   - **Example Response**:
     ```json
     {
       "id": "12345",
       "title": "Web Development Course",
       "description": "A comprehensive course on web development.",
       "category": "Programming",
       "level": "Beginner",
       "duration": "10 weeks",
       "price": 100,
       "modules": [
         {
           "title": "Introduction to Web Development",
           "description": "An overview of web development.",
           "content": [
             {
               "title": "HTML Basics",
               "type": "video",
               "url": "http://example.com/html-basics.mp4"
             },
             {
               "title": "CSS Basics",
               "type": "document",
               "url": "http://example.com/css-basics.pdf"
             }
           ]
         }
       ]
     }
     ```

2. **Course Content**:
   - **Example Response**:
     ```json
     {
       "id": "12345",
       "modules": [
         {
           "title": "Introduction to Web Development",
           "description": "An overview of web development.",
           "content": [
             {
               "title": "HTML Basics",
               "type": "video",
               "url": "http://example.com/html-basics.mp4"
             },
             {
               "title": "CSS Basics",
               "type": "document",
               "url": "http://example.com/css-basics.pdf"
             }
           ]
         }
       ]
     }
     ```

### Authentication

1. **Access Token**:
   - The platform requires an access token for authentication. The token should be included in the request headers.
   - **Example Header**:
     ```json
     {
       "Authorization": "Bearer <access_token>"
     }
     ```

### Example Code for Fetching Course Data

Here is an example of how to fetch and display course data using the provided API endpoints:

```javascript
import React, { useState, useEffect } from 'react';
import axios from 'axios';

const StudentCourseView = ({ courseId }) => {
  const [course, setCourse] = useState(null);
  const [isLoading, setIsLoading] = useState(true);

  useEffect(() => {
    const fetchCourse = async () => {
      try {
        const response = await axios.get(`http://localhost:3000/api/courses/${courseId}`, {
          headers: {
            'Authorization': `Bearer <access_token>`
          }
        });
        setCourse(response.data);
      } catch (error) {
        console.error('Error fetching course:', error);
      } finally {
        setIsLoading(false);
      }
    };

    fetchCourse();
  }, [courseId]);

  if (isLoading) {
    return <div>Loading...</div>;
  }

  if (!course) {
    return <div>Course not found</div>;
  }

  return (
    <div>
      <h1>{course.title}</h1>
      <p>{course.description}</p>
      {course.modules.map((module, index) => (
        <div key={index}>
          <h2>{module.title}</h2>
          <p>{module.description}</p>
          {module.content.map((item, idx) => (
            <div key={idx}>
              <h3>{item.title}</h3>
              {item.type === 'video' && <video src={item.url} controls />}
              {item.type === 'document' && <a href={item.url} target="_blank" rel="noopener noreferrer">View Document</a>}
            </div>
          ))}
        </div>
      ))}
    </div>
  );
};

export default StudentCourseView;
```

### Environment Variables

Ensure the following environment variables are set in the `.env` file:

```properties
MONGODB_URI=mongodb+srv://<username>:<password>@cluster0.20ozn.mongodb.net/elimu_global
GEMINI_API_KEY=<your_gemini_api_key>
JWT_SECRET=<your_jwt_secret>

# Zoom Configuration
ZOOM_ACCOUNT_ID=<your_zoom_account_id>
ZOOM_CLIENT_ID=<your_zoom_client_id>
ZOOM_API_SECRET=<your_zoom_api_secret>
ZOOM_SECRET_TOKEN=<your_zoom_secret_token>
ZOOM_VERIFICATION_TOKEN=<your_zoom_verification_token>

CLOUDINARY_CLOUD_NAME=<your_cloudinary_cloud_name>
CLOUDINARY_API_KEY=<your_cloudinary_api_key>
CLOUDINARY_API_SECRET=<your_cloudinary_api_secret>
CLOUDINARY_URL=<your_cloudinary_url>

NODE_ENV=development
FRONTEND_URL=<your_frontend_url>
AWS_ACCESS_KEY_ID=<your_aws_access_key_id>
AWS_SECRET_ACCESS_KEY=<your_aws_secret_access_key>
AWS_REGION=<your_aws_region>
AWS_S3_BUCKET=<your_aws_s3_bucket>

GROQ_API_KEY=<your_groq_api_key>
```

### Summary

This README provides an overview of the API endpoints, data structures, and authentication details required to interact with the Elimu Platform. Use the provided information to integrate the platform's functionality into your application.